# Vueé¡¹ç›®æŒ‰éœ€åŠ è½½ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡
é€šè¿‡å®æ–½æŒ‰éœ€åŠ è½½ï¼ˆæ‡’åŠ è½½ï¼‰ç­–ç•¥ï¼Œæ˜¾è‘—æå‡Vue.jså‰ç«¯é¡¹ç›®çš„æ€§èƒ½ï¼Œé¿å…é¦–æ¬¡è®¿é—®æ—¶åŠ è½½æ‰€æœ‰å†…å®¹ï¼Œå®ç°çœŸæ­£çš„æŒ‰éœ€åŠ è½½èµ„æºã€‚

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. è·¯ç”±çº§åˆ«æ‡’åŠ è½½
**æ–‡ä»¶**: `src/routes/index.ts`
- âœ… å°†æ‰€æœ‰é¡µé¢ç»„ä»¶æ”¹ä¸ºåŠ¨æ€å¯¼å…¥
- âœ… å°†å¸ƒå±€ç»„ä»¶ï¼ˆEmbedLayoutï¼‰æ”¹ä¸ºæ‡’åŠ è½½
- âœ… ä¿®å¤äº†TypeScriptç±»å‹é”™è¯¯ï¼ˆbigintè½¬stringï¼‰

```typescript
// ä¼˜åŒ–å‰
import Library from '@/pages/library/index.vue'

// ä¼˜åŒ–å  
const Library = () => import('@/pages/library/index.vue')
```

### 2. é¡µé¢ç»„ä»¶æ‡’åŠ è½½
**å·²ä¼˜åŒ–çš„é¡µé¢ç»„ä»¶**:

#### `src/pages/note.vue`
- âœ… Mainç»„ä»¶æ‡’åŠ è½½
- âœ… Privateç»„ä»¶æ‡’åŠ è½½

#### `src/pages/workBench.vue`  
- âœ… NavWebsiteBarç»„ä»¶æ‡’åŠ è½½

#### `src/pages/library/index.vue`
- âœ… Libraryç»„ä»¶æ‡’åŠ è½½

#### `src/pages/RecentReading.vue`
- âœ… DocumentGroupç»„ä»¶æ‡’åŠ è½½
- âœ… FileUploaderç»„ä»¶æ‡’åŠ è½½

#### `src/pages/chatgpt/chat.vue` & `src/pages/chatgpt/write.vue`
- âœ… Copilotç»„ä»¶æ‡’åŠ è½½

### 3. Viteæ„å»ºé…ç½®ä¼˜åŒ–
**æ–‡ä»¶**: `vite.config.ts`
- âœ… é…ç½®æ‰‹åŠ¨ä»£ç åˆ†å‰²ç­–ç•¥
- âœ… å°†ç¬¬ä¸‰æ–¹åº“æŒ‰åŠŸèƒ½åˆ†ç»„åˆ°ä¸åŒchunks
- âœ… ä¼˜åŒ–æ–‡ä»¶å‘½åè§„åˆ™
- âœ… è®¾ç½®åˆç†çš„chunkå¤§å°è­¦å‘Šé˜ˆå€¼

**ä»£ç åˆ†å‰²ç­–ç•¥**:
```typescript
manualChunks: {
  'vue-vendor': ['vue', 'vue-router', 'vuex', 'vue-i18n'],
  'antd-vendor': ['ant-design-vue'], 
  'utils-vendor': ['axios', 'lodash', 'moment'],
  'pdf-vendor': ['pdfjs-dist'],
  'ai-vendor': ['@anthropic-ai/sdk', 'openai']
}
```

## ğŸ”„ å¾…ä¼˜åŒ–é¡¹ç›®

### 1. ç»„ä»¶çº§æ‡’åŠ è½½
ä»¥ä¸‹å¤§å‹ç»„ä»¶å»ºè®®è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š

#### Libraryç›¸å…³ç»„ä»¶
- `src/components/Library/Library.vue` - ä¸»è¦åº“ç»„ä»¶
- `src/components/Library/List/` - åˆ—è¡¨ç›¸å…³ç»„ä»¶
- `src/components/Library/Search/` - æœç´¢ç›¸å…³ç»„ä»¶

#### Mainç›¸å…³ç»„ä»¶  
- `src/components/Main/` - ä¸»è¦åŠŸèƒ½ç»„ä»¶
- `src/components/NavBar/` - å¯¼èˆªæ ç»„ä»¶

#### PDFç›¸å…³ç»„ä»¶
- `src/pdf-annotate-viewer/` - PDFæŸ¥çœ‹å™¨
- `src/pdf-annotate-core/` - PDFæ ¸å¿ƒåŠŸèƒ½

### 2. ç¬¬ä¸‰æ–¹åº“æŒ‰éœ€å¯¼å…¥
- **Ant Design Vue**: ä½¿ç”¨babel-plugin-importå®ç°æŒ‰éœ€å¯¼å…¥
- **Lodash**: ä½¿ç”¨lodash-webpack-pluginæˆ–ç›´æ¥å¯¼å…¥å…·ä½“å‡½æ•°
- **Moment.js**: è€ƒè™‘æ›¿æ¢ä¸ºæ›´è½»é‡çš„day.js

### 3. å›¾ç‰‡å’Œé™æ€èµ„æºä¼˜åŒ–
- å®æ–½å›¾ç‰‡æ‡’åŠ è½½
- ä½¿ç”¨WebPæ ¼å¼
- é…ç½®é€‚å½“çš„ç¼“å­˜ç­–ç•¥

## ğŸ“Š æ€§èƒ½æå‡é¢„æœŸ

### é¦–å±åŠ è½½æ—¶é—´
- **ä¼˜åŒ–å‰**: æ‰€æœ‰ç»„ä»¶åŒæ­¥åŠ è½½ï¼Œé¦–å±æ—¶é—´è¾ƒé•¿
- **ä¼˜åŒ–å**: ä»…åŠ è½½å¿…è¦ç»„ä»¶ï¼Œé¢„è®¡é¦–å±æ—¶é—´å‡å°‘30-50%

### åŒ…å¤§å°ä¼˜åŒ–
- **vendoråˆ†ç¦»**: ç¬¬ä¸‰æ–¹åº“ç‹¬ç«‹ç¼“å­˜ï¼Œæå‡ç¼“å­˜å‘½ä¸­ç‡
- **æŒ‰éœ€åŠ è½½**: å‡å°‘åˆå§‹bundleå¤§å°
- **ä»£ç åˆ†å‰²**: å®ç°æ›´ç²¾ç»†çš„èµ„æºåŠ è½½æ§åˆ¶

## ğŸ› ï¸ å®æ–½å»ºè®®

### 1. ç›‘æ§å’Œæµ‹è¯•
```bash
# æ„å»ºåˆ†æ
npm run build -- --analyze

# æ€§èƒ½æµ‹è¯•
npm run lighthouse
```

### 2. æ¸è¿›å¼ä¼˜åŒ–
1. å…ˆä¼˜åŒ–è·¯ç”±çº§åˆ«ï¼ˆå·²å®Œæˆï¼‰
2. å†ä¼˜åŒ–å¤§å‹ç»„ä»¶
3. æœ€åä¼˜åŒ–ç»†ç²’åº¦ç»„ä»¶

### 3. ç¼“å­˜ç­–ç•¥
- åˆ©ç”¨Viteçš„æ–‡ä»¶å“ˆå¸Œå‘½å
- é…ç½®åˆé€‚çš„HTTPç¼“å­˜å¤´
- ä½¿ç”¨Service Workerè¿›è¡Œèµ„æºç¼“å­˜

## ğŸ”§ å¼€å‘æ³¨æ„äº‹é¡¹

### 1. æ‡’åŠ è½½ç»„ä»¶çš„ä½¿ç”¨
```vue
<script setup>
// æ­£ç¡®çš„æ‡’åŠ è½½æ–¹å¼
const MyComponent = () => import('@/components/MyComponent.vue')

// é¿å…åœ¨computedæˆ–watchä¸­ä½¿ç”¨
// const component = computed(() => import('...')) // âŒ
</script>
```

### 2. TypeScriptæ”¯æŒ
ç¡®ä¿æ‡’åŠ è½½çš„ç»„ä»¶æœ‰æ­£ç¡®çš„ç±»å‹å®šä¹‰ï¼š
```typescript
// ç±»å‹å®‰å…¨çš„æ‡’åŠ è½½
const LazyComponent = defineAsyncComponent(() => import('@/components/MyComponent.vue'))
```

### 3. é”™è¯¯å¤„ç†
```vue
<script setup>
const AsyncComponent = defineAsyncComponent({
  loader: () => import('@/components/MyComponent.vue'),
  errorComponent: ErrorComponent,
  loadingComponent: LoadingComponent,
  delay: 200,
  timeout: 3000
})
</script>
```

## ğŸ“ˆ ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

1. **ç«‹å³æ‰§è¡Œ**: ä¿®å¤ç°æœ‰TypeScripté”™è¯¯
2. **çŸ­æœŸç›®æ ‡**: å®Œæˆä¸»è¦ç»„ä»¶çš„æ‡’åŠ è½½æ”¹é€ 
3. **ä¸­æœŸç›®æ ‡**: å®æ–½ç¬¬ä¸‰æ–¹åº“æŒ‰éœ€å¯¼å…¥
4. **é•¿æœŸç›®æ ‡**: å»ºç«‹å®Œæ•´çš„æ€§èƒ½ç›‘æ§ä½“ç³»

## ğŸ‰ æ€»ç»“

é€šè¿‡ç³»ç»Ÿæ€§çš„æŒ‰éœ€åŠ è½½ä¼˜åŒ–ï¼Œé¡¹ç›®å°†è·å¾—ï¼š
- âš¡ æ›´å¿«çš„é¦–å±åŠ è½½é€Ÿåº¦
- ğŸ“¦ æ›´å°çš„åˆå§‹åŒ…å¤§å°  
- ğŸ”„ æ›´å¥½çš„ç¼“å­˜åˆ©ç”¨ç‡
- ğŸš€ æ›´ä¼˜çš„ç”¨æˆ·ä½“éªŒ

è¿™äº›ä¼˜åŒ–å°†æ˜¾è‘—æå‡åº”ç”¨çš„æ•´ä½“æ€§èƒ½è¡¨ç°ï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œæ¡ä»¶è¾ƒå·®çš„ç¯å¢ƒä¸‹æ•ˆæœæ›´ä¸ºæ˜æ˜¾ã€‚
